# 按数字员工（及角色+推荐员工）的引导步骤链路方案

> 会议跟进：需出一版「按数字员工（或角色+推荐员工）的引导步骤/脚本」，再落到原型步骤与文案。本文档为该方案并已与当前原型对齐。

---

## 1. 设计原则

- **按需触发**：不在一开始堆砌所有数字员工说明；用户进入「探索数字员工」或点击某类入口时，才触发对应引导。
- **角色+推荐员工**：角色选择后已有「为 X 推荐的数字员工」；引导步骤与文案按「角色 + 当前推荐列表」可差异化（可选扩展）。
- **目标**：让用户会选人、会用人，而不是背下所有员工能力。

---

## 2. 当前已落地的「按需」引导

| 触发场景 | 引导形式 | 文案/脚本要点 | 原型位置 |
|----------|----------|----------------|----------|
| 首次进入「探索数字员工」页 | 一次性气泡 | 介绍「雇佣更专业的 AI 员工」、举例 CFO Agent/供应链 Agent 等；点击「知道了」不再显示 | SimpleInputPage：探索数字员工 + showExploreGuideBubble |
| 业务负责人路径 | 步骤 4 后「按需」 | 用户主动点击「数字员工市场」/「探索数字员工」时，可再触发一次轻量说明（与上气泡一致或更短） | 同上，按需与主引导配合 |

---

## 3. 按数字员工类型的步骤/脚本建议（可扩展）

以下为建议的「若按单个数字员工做细粒度引导」时的步骤与文案，便于后续落到原型或 A/B 测试。

| 数字员工类型 | 建议步骤 | 每步聚焦 | 脚本要点 |
|--------------|----------|----------|----------|
| **Alisa（核心员工）** | 1 步 | 主输入框 | 「一句话快速获取核心 KPI，先试问一句『上周销售额是多少？』」 |
| **Emily（指标专家）** | 1 步 | 指标/知识库 Tab 或指标入口 | 「构建清晰指标体系、定义口径，适合做指标拆解与对标。」 |
| **报表/看板类** | 1 步 | 看板 Tab 或报告入口 | 「定期报表、周报月报自动生成；可订阅推送到飞书。」 |
| **CFO / 财务 Agent** | 1 步 | 探索页该卡片 | 「擅长财务分析、成本与利润拆解。」 |
| **供应链 Agent** | 1 步 | 探索页该卡片 | 「擅长库存、采购、履约分析。」 |

**落地方式**：当前以「探索数字员工」整页一次气泡为主；若需「点击某张卡片再出该员工的 1 步说明」，可在卡片上增加 `data-tour` 与首次点击的 Lazy 气泡（与数据开发 Lazy 机制类似）。

---

## 4. 按角色 + 推荐员工的脚本汇总（与主引导一致）

主引导已按**角色**分路径（CXO / 业务负责人 / 一线 / 数据开发），推荐员工列表已按角色过滤；无需再单独「按数字员工」走完整多步引导，避免与主路径重复。

- **CXO**：主引导 3 步（如何提问、联网搜索、点击发送）；不强调具体员工，只强调「问数」与「追问在数据分析界面」。
- **业务负责人**：主引导含看板 + 按需数字员工；进入探索数字员工时弹出上述一次性气泡。
- **一线**：主引导含指标/知识库、新建术语、求助上报；推荐员工以「查数 + 查黑话」为主，文案已在主步骤中体现。
- **数据开发**：主引导为完整 6 步（数据开发中心 → 审计日志 → 数据源 → 业务建模 → 指标管理 → 完成）；各配置页自动启动追光灯引导。

---

## 5. 数据开发引导完整覆盖

### 5.1 主引导步骤（OnboardingTour - developer 角色）

| 步骤 | 目标元素 | 标题 | 说明 |
|------|----------|------|------|
| 1 | data-dev-tab | 数据开发中心 | 介绍数据开发工作区入口 |
| 2 | dev-audit | 审计日志 | 监控 AI 回答准确性，问答与 SQL 执行日志 |
| 3 | dev-datasource | 数据源管理 | 第一步：建立数据库连接 |
| 4 | dev-modeling | 业务建模 | 第二步：定义模型与语义配置 |
| 5 | dev-indicators | 指标管理 | 第三步：统一计算口径 |
| 6 | helper-button | 准备就绪 | 配置完成后的帮助入口 |

### 5.2 数据源配置页引导（DataSourceConfigPage）

**页面级引导（3 步）**：
1. datasource-intro - 数据源管理概述
2. datasource-new-connection - 新建连接按钮
3. datasource-table - 连接列表展示

**新建连接弹窗引导（7 步）**：
1. new-conn-name - 连接名称
2. new-conn-type - 数据库类型选择
3. new-conn-host - 主机与端口
4. new-conn-database - 数据库名
5. new-conn-credentials - 用户名密码
6. new-conn-ssh - SSH 隧道配置
7. new-conn-save - 保存连接

### 5.3 业务建模配置页引导（ModelingConfigPage）

**模型列表页引导（3 步）**：
1. modeling-intro - 业务建模概述
2. modeling-first-card - 模型卡片说明
3. modeling-dynamic-sql - 动态 SQL 开关

**模型详情页引导（5 步）**：
1. model-detail-header - 详情页头部
2. model-detail-dynamic-sql - 详情页动态 SQL
3. model-field-table - 字段列表
4. model-field-semantic - 语义类型配置
5. model-field-synonym - 同义词编辑

### 5.4 指标管理配置页引导（IndicatorsConfigPage）

**页面级引导（4 步）**：
1. indicators-intro - 指标管理概述
2. indicators-new-metric - 新建指标按钮
3. indicators-list - 指标列表
4. indicators-first-card - 指标卡片详情

**新建指标弹窗引导（5 步）**：
1. metric-form-name - 指标名称与简称
2. metric-form-formula - 计算公式（核心）
3. metric-form-desc - 口径说明
4. metric-form-source - 数据源表
5. metric-form-save - 保存指标

### 5.5 首页数据开发区域引导（SimpleInputPage）

**数据开发 Tab 引导（5 步）**：
1. data-dev-cards - 数据开发中心概述
2. dev-audit - 审计日志说明
3. dev-datasource - 数据源配置入口
4. dev-modeling - 业务建模入口
5. dev-indicators - 指标管理入口

---

## 6. 结论与后续可选

- **已落地**：
  - 按需触发「探索数字员工」一次性气泡
  - 主引导按角色差异化，推荐员工与角色绑定
  - **数据开发完整引导**：覆盖所有配置页面的所有功能细节，采用追光灯式引导机制
  
- **可选扩展**：
  - 按上表对「单数字员工」做 Lazy 单步说明（点击某员工卡片首次出现）
  - 按角色+员工做更细的脚本 A/B 测试
  - 需要时在探索页卡片上增加 Lazy 引导即可（实现方式同数据开发 Lazy）
