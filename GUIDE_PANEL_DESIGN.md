# 增强引导面板设计文档

## 概述

为了解决用户不知道如何提问和有哪些指标可以提问的问题,我们设计并实现了一个增强引导面板组件。

## 解决的问题

1. **用户不知道如何提问** - 提供示例问题分类和智能建议
2. **用户不知道有哪些指标可以提问** - 展示可用指标列表,按分类组织
3. **系统分析后有很多指标,用户不知道如何继续提问** - 提供最近使用的指标和智能建议
4. **未来功能预期管理** - 展示功能路线图,包括预警、PPT生成等智能洞察套件

## 功能特性

### 1. 可用指标展示 (`EnhancedGuidePanel`)

#### 指标分类
- **销售指标**: 销售额、订单量、客单价、GMV
- **运营指标**: 坪效、翻台率、人效、转化率
- **库存指标**: 库存周转率、缺货率、售罄率、连带率
- **用户指标**: 日活(DAU)、月活(MAU)、复购率、用户数
- **营销指标**: ROI、转化率、会员复购率

#### 交互方式
- 每个指标分类可展开/折叠
- 每个指标提供多个示例问题
- 点击示例问题可直接提问
- 显示最近使用的指标

### 2. 示例问题分类

#### 问题类型
- **基础查询**: 单指标、多指标查询
- **趋势分析**: 时间趋势、波动分析
- **对比分析**: 地区对比、时间对比
- **构成分析**: 占比分析、分布分析
- **归因分析**: 原因分析、影响因素
- **异常检测**: 异常识别、问题诊断

#### 交互方式
- 网格布局展示所有分类
- 每个分类显示多个示例问题
- 点击问题可直接开始分析

### 3. 智能建议

#### 功能
- 根据用户输入的关键词提供建议
- 支持模糊匹配和模式匹配
- 实时显示建议问题

#### 匹配规则
- 销售额/销售/营收 → 销售相关建议
- 订单/订单量 → 订单相关建议
- 趋势/变化/波动 → 趋势分析建议
- 对比/比较 → 对比分析建议
- 为什么/原因/下降/增长 → 归因分析建议

### 4. 功能路线图

#### 已上线功能
- **智能归因**: 一键分析指标波动原因
  - 示例: "为什么销售额下降了"、"分析增长原因"

#### 即将上线功能
- **智能预警**: 通过问答设置预警规则
  - 示例: "当销售额下降10%时提醒我"、"设置库存预警"
  - 状态: 即将上线

- **PPT生成**: 自动生成数据分析PPT
  - 示例: "生成销售分析PPT"、"制作月度报告"
  - 状态: 规划中

- **智能洞察**: 自动发现数据中的洞察
  - 示例: "发现数据异常"、"找出增长机会"
  - 状态: 规划中

## 集成方式

### 1. SimpleInputPage 集成

在 `SimpleInputPage` 组件中:
- 添加了"查看可用指标和提问方式"按钮
- 点击按钮打开增强引导面板
- 面板以模态框形式展示
- 选择问题后自动关闭面板并开始提问

### 2. 看板中的智能归因按钮

在看板中,KPI卡片已经集成了智能归因按钮:
- 当KPI卡片显示同比/环比数据时,自动显示"归因"按钮
- 点击归因按钮触发归因分析
- 归因分析结果以面板形式展示

## 组件结构

```
EnhancedGuidePanel
├── 头部 (标题、关闭按钮)
├── 搜索栏 (智能建议)
├── 标签页
│   ├── 可用指标
│   ├── 示例问题
│   └── 功能路线图
└── 内容区域 (根据标签页显示不同内容)
```

## 使用场景

### 场景1: 新用户首次使用
1. 用户进入系统,看到输入框
2. 点击"查看可用指标和提问方式"按钮
3. 浏览可用指标和示例问题
4. 点击感兴趣的问题开始分析

### 场景2: 用户不知道如何提问
1. 用户在输入框中输入关键词
2. 系统自动显示智能建议
3. 用户点击建议问题开始分析

### 场景3: 分析后继续提问
1. 用户完成一次分析,看到很多指标
2. 点击"查看可用指标和提问方式"按钮
3. 查看"最近使用"的指标
4. 选择相关指标继续分析

### 场景4: 了解未来功能
1. 用户点击"功能路线图"标签
2. 查看已上线和即将上线的功能
3. 了解功能的使用方式和示例

## 技术实现

### 组件文件
- `src/components/EnhancedGuidePanel.tsx` - 主组件
- `src/components/SimpleInputPage.tsx` - 集成页面

### 依赖
- `framer-motion` - 动画效果
- `lucide-react` - 图标库

### 状态管理
- 使用 React Hooks 管理组件状态
- 使用 localStorage 保存用户偏好(可选)

## 未来优化方向

1. **个性化推荐**
   - 根据用户历史提问推荐相关问题
   - 根据用户角色推荐相关指标

2. **指标搜索**
   - 支持指标名称搜索
   - 支持指标描述搜索

3. **智能建议增强**
   - 使用AI模型生成更精准的建议
   - 根据上下文提供相关建议

4. **功能路线图更新**
   - 实时更新功能状态
   - 添加功能上线时间线

5. **多语言支持**
   - 支持英文界面
   - 支持其他语言

## 总结

增强引导面板解决了用户不知道如何提问和有哪些指标可以提问的核心问题,通过:
- 清晰的指标分类和示例
- 智能的问题建议
- 完整的功能路线图
- 便捷的交互方式

让用户能够快速上手并充分利用系统的分析能力。



