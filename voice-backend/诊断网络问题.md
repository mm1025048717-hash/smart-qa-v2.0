# 🔧 Deepgram 连接问题诊断

## 问题症状
- 错误：`[WinError 64] 指定的网络名不再可用`
- Deepgram TTS/STT 服务无法连接
- 没有音频输出

## 可能原因

1. **网络连接问题**
   - 检查是否能正常访问互联网
   - 尝试访问：https://console.deepgram.com

2. **防火墙/代理阻止**
   - Windows 防火墙可能阻止了 Python 的网络访问
   - 企业网络可能有代理服务器

3. **临时网络故障**
   - Deepgram 服务可能暂时不可用
   - 等待几分钟后重试

## 快速解决方案

### 方案 1: 切换到 OpenAI TTS（推荐）

如果您有 OpenAI API Key（或可以快速获取）：

1. 获取 OpenAI API Key：
   - 访问：https://platform.openai.com/api-keys
   - 注册/登录后创建 API Key
   - 新用户有 $5 免费额度

2. 配置 OpenAI API Key：
   ```bash
   # 方法 1: 运行脚本
   python 更新API密钥.py
   
   # 方法 2: 手动编辑 .env 文件
   # 添加：OPENAI_API_KEY=sk-your-key-here
   ```

3. 切换到 OpenAI TTS：
   ```bash
   切换TTS服务.bat openai
   ```

4. 重启服务：
   ```bash
   启动服务.bat
   ```

### 方案 2: 检查网络设置

1. **检查网络连接**：
   - 打开浏览器，访问 https://www.google.com
   - 如果能正常访问，网络连接正常

2. **检查防火墙**：
   - 打开 Windows 设置 → 防火墙
   - 检查是否有阻止 Python 的规则
   - 临时关闭防火墙测试（不推荐，仅用于诊断）

3. **检查代理设置**：
   - 如果使用企业网络，可能需要配置代理
   - 检查系统代理设置

### 方案 3: 使用其他 TTS 服务

**Cartesia TTS**（推荐，免费额度 $10/月）：
1. 获取 API Key：https://play.cartesia.ai/sign-up
2. 配置：`切换TTS服务.bat cartesia`
3. 在 .env 中添加：`CARTESIA_API_KEY=your-key-here`

## 推荐操作

**最快的解决方案**：获取 OpenAI API Key 并使用 OpenAI TTS
- ✅ 简单快速（5 分钟即可完成）
- ✅ 免费额度可用
- ✅ 不依赖网络连接问题

