import React from 'react';
import { motion } from 'framer-motion';

const scenarios = [
  { id: 'case1', title: '案例｜创意脑暴 → 一键生成产物', bubbles: ['年轻用户','环保科技包装','回收即升级','挑战赛'], prompt: '把“年轻用户”与“环保科技包装”融合，生成可直接落地的产物包：标题Top5、开场钩子Top5、传播链路、素材清单、MVP验证、落地页、两周冲刺与风险备选。', pair: [0,1], preset: { title: '年轻用户 × 环保科技包装的融合', notes: '一句话主张：把“环保感”做成可被转发的酷科技体验\nBig Idea：回收即升级（回收解锁徽章/皮肤/折扣），线下回收机+线上小程序闭环\n标题Top5：年轻人最爱的环保开箱；99秒挑战｜快递盒升级成徽章；回收即升级：给环保一个炫耀理由；你的包装会发光：城市打卡计划；环保不再清汤寡水：把科技做成强记忆点\n开场钩子Top5：回收机扫描瞬间变色亮灯；30秒升级徽章动画+排行榜；盲盒式升级：回收=抽城市限定；KOL一周积分对战；旧包装换新皮肤快闪\n传播链路：站外=挑战赛话题/KOL同款/线下打卡/UGC排行榜；站内=积分体系/徽章兑换/任务提醒与复购券\n素材清单：视觉=回收机发光特效3款/徽章12枚/排行榜组件；文案=挑战口号10条/标题党20条/风险提示模板；视频=15s/30s/60s脚本各2版\nMVP验证（72小时）：指标=3秒停留≥45%、UGC≥500、参与率≥8%、兑换率≥3%；A/B=封面钩子3版+门槛2档\n落地页模块：首屏价值主张｜升级动画演示｜徽章墙｜真实回收数据｜FAQ｜CTA\n两周冲刺计划：第1周=动效Demo与小程序接口；第2周=挑战赛上线与投放+数据看板\n风险与备选：触点不足→快递点代收回收；参与率低→下调门槛+首个徽章必中' } },
  // 新增：强落地 Demo（含附件→摘要、融合→方案、方案→Agent）
  { id: 'case2', title: '落地 Demo｜上传文件→摘要→融合→方案→Agent 执行',
    bubbles: ['环保包装方案','年轻用户洞察','素材示例','渠道演示','品牌口径'],
    prompt: '把“环保包装方案”与“年轻用户洞察”融合，输出严格 JSON（标题、一句话主张、Big Idea、标题Top5、开场钩子Top5、传播链路、素材清单、卖点/反共识/话术、MVP、里程碑、KPI）。',
    pair: [0,1],
    preset: {
      title: '环保包装方案 × 年轻用户洞察',
      notes: '一句话主张：环保也可以很潮流，不一定是单调的。\nBig Idea：回收即升级，线上线下闭环+社交传播。\n传播链路：抖音/小红书/视频号/社群 联动种草与转化。\n素材清单：品牌主视觉、短视频脚本、海报KV、落地页、数据看板、挑战赛页。\nMVP：72小时内上线挑战赛与积分闭环，观察关键指标。',
      structured: {
        oneSentence: '环保也可以很潮流，让回收成为炫耀动作',
        bigIdea: '回收即升级：回收解锁徽章/皮肤/折扣，线下回收机 + 小程序闭环 + 社交传播',
        titlesTop5: ['年轻人最爱的环保开箱','99秒挑战｜快递盒升级成徽章','回收即升级：给环保一个炫耀理由','你的包装会发光：城市打卡计划','环保不再清汤寡水：把科技做成强记忆点'],
        hooksTop5: ['回收机扫描瞬间变色亮灯','30秒升级徽章动画+排行榜','盲盒式升级：回收=抽城市限定','KOL一周积分对战','别急着否定，先看这个实验'],
        pipeline: ['抖音','小红书','视频号','社群','线下打卡'],
        assets: ['品牌主视觉','短视频脚本','海报KV','落地页','数据看板','挑战赛页'],
        sellingPoints: ['高颜值环保带来自传播','即时奖励闭环提升复购','线上线下联动可量化'],
        contrarianPoints: ['把回收从“成本中心”变成“炫耀动作”','以挑战赛替代传统硬广投放'],
        talkTracks: ['现在回收升级，解锁城市限定徽章','三步完成升级，积分可兑好礼'],
        mvp: '72小时：上线回收机动效Demo+小程序任务，投放1城试点，收集用户反馈并调优门槛',
        milestones: [
          { name: '动效Demo', desc: '回收机灯效/徽章升级动画' },
          { name: '小程序接口', desc: '积分任务/兑换逻辑闭环' },
          { name: '挑战赛上线', desc: 'KOL种草+城市打卡联动' }
        ],
        kpis: [
          { name: 'UGC量', target: '≥500' },
          { name: '参与率', target: '≥8%' },
          { name: '兑换率', target: '≥3%' },
          { name: '3秒停留', target: '≥45%' }
        ]
      }
    },
    attachments: [
      { bubbleIndex: 0, files: [
        { name: '环保包装调研.txt', type: 'text/plain', textPreview: '调研摘要：材料替换、用户态度、价格弹性…' },
        { name: '供应链访谈.txt', type: 'text/plain', textPreview: '供应侧：成本区间/交期/可持续认证…' }
      ] },
      { bubbleIndex: 1, files: [
        { name: 'Z世代洞察.txt', type: 'text/plain', textPreview: '悦己、社交炫耀、挑战机制偏好…' }
      ] },
      { bubbleIndex: 2, files: [
        { name: '短视频脚本示例.md', type: 'text/markdown', textPreview: '# 30s 脚本\n- 开场钩子…\n- 场景展示…\n- CTA…' }
      ] }
    ],
    openDetailIndex: 0
  },
  { id: 's1', title: '场景 1｜比稿冲刺（广告代理）', bubbles: ['情绪洞察','社媒玩法','线下装置'], prompt: '输出3个Campaign主轴+每个的执行清单（媒介/创意素材/线下触点），用于PPT标题与要点。', pair: [0,1], preset: { title: '情绪洞察 × 社媒玩法', notes: '核心卖点：把「情绪洞察」转化为可被转发的社媒玩法模板。\n反共识尝试：将线下触点的互动拆成短视频「挑战」任务上链。\n最小验证：48小时投放一套UGC挑战链路，验证转发率与完成率。\n角色定位：品牌PM/社媒运营/线下落地三方协同，列风险与物料清单。' } },
  { id: 's2', title: '场景 2｜大创意共创', bubbles: ['强记忆点','修辞钩子','落地渠道'], prompt: '生成1个强记忆点创意：标题、钩子、渠道落地（短视频/互动/线下），附可验证指标。', pair: [0,1], preset: { title: '强记忆点 × 修辞钩子', notes: '核心卖点：用“强记忆点”的方法解决“修辞钩子”里的老问题。\n反共识尝试：把“修辞钩子”的用户旅程搬进“强记忆点”的分发渠道。\n最小验证：做一个一天可交付的Demo，验证强记忆点∩修辞钩子的真实点击/转化率。\n角色定位：谁是买单人？谁是使用者？谁会反对？提前准备三句反驳话术。' } },
  { id: 's3', title: '场景 3｜品牌跨 BU 对齐', bubbles: ['市场诉求','产品诉求','渠道诉求','年轻化'], prompt: '给出“最小共识版”执行框架：受众/场景/预算分层，统一话术与里程碑。', pair: [0,2], preset: { title: '市场诉求 × 渠道诉求', notes: '核心卖点：统一到「年轻化」人群的三段式触达（种草/转化/复购）。\n反共识尝试：把渠道短期ROI目标与品牌中长期指标共模。\n最小验证：跑一条跨端闭环链路，观察CAC与留存曲线。\n角色定位：市场/产品/渠道「单页对齐表」。' } },
  { id: 's4', title: '场景 4｜内容工作室选题会', bubbles: ['素材难度','热点匹配','传播性','可做性'], prompt: '输出Top5选题：角度、标题党版本、封面钩子与风险提示。', pair: [1,2], preset: { title: '热点匹配 × 传播性', notes: '核心卖点：围绕热点做易二创的角度清单。\n反共识尝试：降低拍摄复杂度，用模板化剧情+封面钩子。\n最小验证：上3张封面做A/B，观察3秒停留与完播。\n角色定位：编导/剪辑/运营的职责分配与SOP。' } },
  { id: 's5', title: '场景 5｜电商转化页快反', bubbles: ['痛点文案','利益点','社会证明'], prompt: '生成三版落地页模块清单+文案骨架（首屏/信任/证明/FAQ/CTA）。', pair: [0,1], preset: { title: '痛点文案 × 利益点', notes: '核心卖点：首屏一句话价值主张+三证据点。\n反共识尝试：证据点以用户生成内容呈现。\n最小验证：24小时跑三版落地页，观察点击到购买转化率。\n角色定位：文案/设计/投放分工。' } },
  { id: 's6', title: '场景 6｜产品创新工作坊', bubbles: ['环保包装','科技感','社区行动'], prompt: '生成“环保×智能”新品概念：命名、核心价值、MVP与可验证指标。', pair: [0,1], preset: { title: '环保包装 × 科技感', notes: '核心卖点：智能回收一体机概念。\n反共识尝试：以社区为场景反向驱动使用频次。\n最小验证：小区放置试点，记录设备日活/回收率。\n角色定位：产品/运营/物业的合作分工。' } },
  { id: 's7', title: '场景 7｜增长实验路线图', bubbles: ['影响','成本','风险'], prompt: '输出2周冲刺实验清单：优先级=影响/成本/风险排序，包含假设与成功指标。', pair: [0,2], preset: { title: '影响 × 风险', notes: '核心卖点：优先跑高影响低风险实验。\n反共识尝试：把成本当约束常量进行敏感度分析。\n最小验证：2周冲刺看复购率环比。\n角色定位：增长/产品/数据联合值班。' } },
  { id: 's8', title: '场景 8｜技术共创', bubbles: ['WebGL 动效','实时协作','AI 提示词管道'], prompt: '生成研发分层架构与8周里程碑，列出技术风险与备选方案。', pair: [0,2], preset: { title: 'WebGL 动效 × AI 提示词管道', notes: '核心卖点：前端Canvas/WebGL与后端AI服务解耦。\n反共识尝试：先做提示词协议而非模型耦合。\n最小验证：组件库+本地API跑通一条链路。\n角色定位：前端/后端/DevOps分工与里程碑。' } },
  { id: 's9', title: '场景 9｜创意训练营', bubbles: ['领域词A','领域词B','Pitch 结构','KPI'], prompt: '输出5分钟Pitch结构：标题、Big Idea、证据点、KPI与下一步。', pair: [2,3], preset: { title: 'Pitch 结构 × KPI', notes: '核心卖点：统一评审口径，保证输出可比。\n反共识尝试：把KPI拆为行为与结果两层。\n最小验证：课堂即时路演评分。\n角色定位：导师/学员/评委。' } },
  { id: 's10', title: '场景 10｜投资人快速洞察', bubbles: ['问题','解法','渠道','壁垒'], prompt: '生成“穿透卡”：问题/解法/渠道/壁垒，并给出雷达评分（创新/可行/成本/势能）。', pair: [0,1], preset: { title: '问题 × 解法', notes: '核心卖点：用一个句子穿透到「价值—路径」。\n反共识尝试：把渠道与壁垒映射到收入模型。\n最小验证：10个项目对比表。\n角色定位：投资经理/分析师/合伙人。' } }
];

export function ScenariosPanel({ onLoad }) {
  return (
    <motion.div className="absolute right-4 top-20 z-20 bg-white border border-bfl-border rounded-xl shadow-sm p-3 w-[340px] max-w-[92vw] pointer-events-auto"
      initial={{ opacity: 0, y: -10 }} animate={{ opacity: 1, y: 0 }}>
      <h3 className="text-sm font-semibold text-bfl-text mb-2">交互案例（点选一键载入）</h3>
      <div className="space-y-2 max-h-[50vh] overflow-auto custom-scrollbar pr-1">
        {scenarios.map(sc => (
          <button key={sc.id} className="w-full text-left text-sm p-2 rounded-lg border border-bfl-border hover:bg-bfl-surface-2"
            onClick={() => onLoad(sc)}>
            {sc.title}
          </button>
        ))}
      </div>
    </motion.div>
  );
}


